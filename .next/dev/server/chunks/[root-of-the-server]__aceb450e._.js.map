{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/wisdom%20sproute/test-project/leave_management/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport { prisma };"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,SAAS,IAAI,6IAAY"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/wisdom%20sproute/test-project/leave_management/app/api/auth/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { prisma } from \"../../../lib/prisma\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nexport async function POST(req: Request) {\r\n  const { email, password } = await req.json();\r\n\r\n  const user = await prisma.user.findUnique({ where: { email } });\r\n\r\n  if (!user) {\r\n    return NextResponse.json({ error: \"User not found\" }, { status: 400 });\r\n  }\r\n\r\n  const match = await bcrypt.compare(password, user.password);\r\n  if (!match) {\r\n    return NextResponse.json({ error: \"Wrong password\" }, { status: 400 });\r\n  }\r\n\r\n  const token = jwt.sign(\r\n    { userId: user.id, role: user.role },\r\n    process.env.JWT_SECRET!,\r\n    { expiresIn: \"8h\" }\r\n  );\r\n\r\n  return NextResponse.json({ token });\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1C,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAAE,OAAO;YAAE;QAAM;IAAE;IAE7D,IAAI,CAAC,MAAM;QACT,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACtE;IAEA,MAAM,QAAQ,MAAM,gHAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;IAC1D,IAAI,CAAC,OAAO;QACV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACtE;IAEA,MAAM,QAAQ,kJAAG,CAAC,IAAI,CACpB;QAAE,QAAQ,KAAK,EAAE;QAAE,MAAM,KAAK,IAAI;IAAC,GACnC,QAAQ,GAAG,CAAC,UAAU,EACtB;QAAE,WAAW;IAAK;IAGpB,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE;IAAM;AACnC"}}]
}